var shopnum1;
if (typeof shopnum1 == undefined || shopnum1 == null) shopnum1 = function() {};
if (typeof shopnum1.Tool == undefined || shopnum1.Tool == null) shopnum1.Tool = function() {};
shopnum1.Tool.CheckIntByOrder = function(a, b) {
    if (a.value == "") {
        a.value = "0";
        return
    }
    var c = /^(-?[0-9]{0,5})$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckNumber = function(a, b) {
    if (a.value == "") return;
    var c = /^-?[1-9]+(\.\d+)?$|^-?0(\.\d+)?$|^-?[1-9]+[0-9]*(\.\d+)?$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckEnName = function(a, b) {
    if (a.value == "") return;
    var c = /^[a-zA-Z0-9_]{4,50}$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckCnName = function(a, b) {
    if (a.value == "") return;
    var c = /^[\u4e00-\u9fa5a-zA-Z0-9_]{2,50}$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckCnNameNoStr = function(a, b) {
    if (a.value == "") return;
    var c = /^[\u4e00-\u9fa5a-zA-Z0-9]{1,50}$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckTel = function(a, b) {
    if (a.value == "") return;
    var c = /^(([0\+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{4,}))?$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckMobile = function(a, b) {
    if (a.value == "") return;
    var c = /^0?(13[0-9]|15[012356789]|18[0236789]|14[57])[0-9]{8}$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckMobileOrTel = function(a, b) {
    if (a.value == "") return;
    if (!shopnum1.Tool.CheckTel(a) && !shopnum1.Tool.CheckMobile(a)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckEmail = function(a, b) {
    if (a.value == "") return;
    var c = /^([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\-|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.CheckDate = function(a, b) {
    if (a.value == "") return;
    var c = /^((((((0[48])|([13579][26])|([2468][048]))00)|([0-9][0-9]((0[48])|([13579][26])|([2468][048]))))-02-29)|(((000[1-9])|(00[1-9][0-9])|(0[1-9][0-9][0-9])|([1-9][0-9][0-9][0-9]))-((((0[13578])|(1[02]))-31)|(((0[1,3-9])|(1[0-2]))-(29|30))|(((0[1-9])|(1[0-2]))-((0[1-9])|(1[0-9])|(2[0-8]))))))$/;
    if (!c.test(a.value)) {
        typeof b == "function" && b(a);
        return false
    }
    return true
};
shopnum1.Tool.LoadMask = {
    defaults: {
        isClose: false,
        time: 0,
        timespan: 1e3,
        text: ""
    },
    show: function(d) {
        var a = "#loadMask",
        b = null,
        c = $.extend({},
        shopnum1.Tool.LoadMask.defaults, d);
        if ($(window.top.document).find(a).length == 0) 
        {
            b = $("<div id='loadMask' class='loading' style=''><span class='loading_img'><img src='/admin/images/adminblue/load_c011.gif' style='border:0px;' /></span><span class='loading_message'>数据加载中，请稍后...</span></div>");
            $(window.top.document).find("body").append(b)
             
        } 
        else 
        {
            $(window.top.document).find(a).show();
            c.isClose && setTimeout(shopnum1.Tool.LoadMask.hide, c.time * timespan)
        }
    },
    hide: function() {
        $(window.top.document).find("#loadMask").hide()
    }
};
$(document).ready(function() {
    var e = "li_hover",
    o = ".option li",
    k = "btn_edit_style2_selected",
    n = "border-bottom",
    j = "isscroll",
    i = "#leftnav",
    m = "#centerline",
    f = "bg",
    h = "minwidth",
    g = "px",
    d = true,
    c = "t_hover";
    shopnum1.Tool.LoadMask.hide();
    var b = $("body"),
    s = $("#datalist");
    $(".t_body").each(function() {
        $(this).children().last().addClass("clear");
        $(this).mouseover(function() {
            $(this).addClass(c)
        });
        $(this).mouseout(function() {
            $(this).removeClass(c)
        })
    });
    $(".t_body1").each(function() {
        $(this).children().last().addClass("clear");
        $(this).mouseover(function() {
            $(this).addClass(c)
        });
        $(this).mouseout(function() {
            $(this).removeClass(c)
        })
    });
    var l = 0,
    q = $(window.parent.document).find("#main").height(),
    r = $("#data");
    if ($("#rightcontent").length <= 0) l = q - $("#content_menu").outerHeight(d) - $("#option").outerHeight(d) - $("#data_bottom").outerHeight(d) - $("#t_title").outerHeight(d) - $("#content_menu_top").outerHeight(d) - 13;
    l = l - 26;
    r.css("height", l + g);
    window.onresize = function() {
        setDataListHeight()
    };
    if (b.attr(h) != undefined && b.attr(h) != null) if ($(document).width() < b.attr(h)) b.css(f, b.attr(h) - 2 + g);
    else {
        var a = window.top.document.body.offsetWidth - $(window.top.document).find(m).outerWidth(d);
        if ($(window.top.document).find(i).css("display") != "none") {
            a = a - $(window.top.document).find(i).outerWidth(d) - 16;
        }
        a = b.attr(j) != undefined && b.attr(j) == "true" ? a - 16 : a;
        b.css(f, a + g)
    } else if ($(document).width() < 850 || $(document).width() == 850) b.css(f, "845px");
    else {
        var a = window.top.document.body.offsetWidth - $(window.top.document).find(m).outerWidth(d);
        if ($(window.top.document).find(i).css("display") != "none") {
            a = a - $(window.top.document).find(i).outerWidth(d) - 16;
        }
        a = b.attr(j) != undefined && b.attr(j) == "true" ? a - 16 : a;
        b.css(f, a + g)
    };
    $(".btn_edit_style2").hover(function() {
        $(this).addClass(k)
    },
    function() {
        $(this).removeClass(k)
    });
    $(o).each(function() {
        var a = $(this);
        a.attr("class").indexOf("nomouse") == -1 && a.bind("mouseover",
        function() {
            a.addClass(e)
        })
    });
    $(o).each(function() {
        var a = $(this);
        a.attr("class").indexOf("nomouse") == -1 && a.bind("mouseout",
        function() {
            a.removeClass(e)
        })
    });
    typeof ecDialog == "object" && ecDialog.position()
});
function setDataListHeight() {
    var h = "isscroll",
    g = "#leftnav",
    c = true,
    j = "#centerline",
    f = "px",
    e = "bg",
    d = "minwidth",
    b = $("body"),
    l = $("#data"),
    m = $("#datalist");
    if (b.attr(d) != undefined && b.attr(d) != null) if ($(document).width() < b.attr(d)) b.css(e, b.attr(d) - 2 + f);
    else {
        var a = window.top.document.body.offsetWidth - $(window.top.document).find(j).outerWidth(c);
        if ($(window.top.document).find(g).css("display") != "none") {
            a = a - $(window.top.document).find(g).outerWidth(c) - 16;
        }
        a = b.attr(h) != undefined && b.attr(h) == "true" ? a - 16 : a;
        b.css(e, a + f)
    } else if ($(document).width() < 850 || $(document).width() == 850) b.css(e, "845px");
    else {try{
        var a = window.top.document.body.offsetWidth - $(window.top.document).find(j).outerWidth(c);
        if ($(window.top.document).find(g).css("display") != "none") {
            a = a - $(window.top.document).find(g).outerWidth(c) - 16;
        }
        a = b.attr(h) != undefined && b.attr(h) == "true" ? a - 16 : a;
        b.css(e, a + f)
        }catch(e){return false;}
    }
    var i = 0,
    k = $(window.parent.document).find(".content").height();
    if ($("#rightcontent").length <= 0) i = k - $("#content_menu").outerHeight(c) - $("#option").outerHeight(c) - $("#data_bottom").outerHeight(c) - $("#t_title").outerHeight(c) - $("#content_menu_top").outerHeight(c) - 13;
    i = i - 26;
    l.css("height", i + f);
    typeof ecDialog == "object" && ecDialog.position()
}
function isMouseLeaveOrEnter(a, d) {
    var c = "mouseout";
    if (a.type != c && a.type != "mouseover") return false;
    var b = a.relatedTarget ? a.relatedTarget: a.type == c ? a.toElement: a.fromElement;
    while (b && b != d) b = b.parentNode;
    return b != d
}
function setsho(c) {
    var b = "showfile",
    a = "showcode";
    if (c == "code") {
        document.getElementById(a).style.display = "";
        document.getElementById(b).style.display = "none"
    } else {
        document.getElementById(a).style.display = "none";
        document.getElementById(b).style.display = ""
    }
}
function upconfirm() {
    var c = "#uploadFile",
    a = true,
    b = $("input[name='yzstyle']:checked").val();
    $("#hidptyp").val(b);
    if (b == "code") if ($("#tcode").val() == "") {
        cgjg.hint.warn("请输入第三方验证代码！");
        a = false
    }
    if (b == "file") if ($(c).val() == "") {
        cgjg.hint.warn("请选择要上传的验证文件！");
        a = false
    } else if (!isTxt($(c).val())) a = false;
    return a
}
function isTxt(a) {
    var b = a.substring(a.lastIndexOf(".") + 1, a.length).toLowerCase();
    if (b == "txt" || b == "key" || b == "ico") return true;
    else {
        cgjg.hint.warn("只能上传txt及key格式的验证文件！");
        return false
    }
}
function reuploadfile() {
    confirm("重置后，将删除当前已填写的信息，重新上传！") && $.ajax({
        url: "",
        type: "POST",
        data: {
            type: "reuploadfile"
        },
        dataType: "html",
        success: function(a) {
            if (a == "1") location.href = "";
            else alert("操作失败，请重试！")
        }
    })
};