(function(n, i) {
    var B = "scroll",
    g = " ",
    z = "password",
    y = "textarea",
    s = "hidden",
    x = "text",
    w = "checkbox",
    m = "select-multiple",
    E = "cssFloat",
    l = "opacity",
    q = "px",
    v = "offset",
    u = "auto",
    D = "styleFloat",
    A = "float",
    F = "className",
    r = "radio",
    I = "tabIndex",
    j = "select-one",
    p = "number",
    f = -1,
    k = "undefined",
    o = "function",
    C = "complete",
    H = "2011-10-12",
    G = "1.0.0 Beta",
    t = "object",
    c = false,
    e = true,
    h = "string",
    d = "",
    b = null,
    a = function() {
        var a = function(b, c) {
            return new a.fn.init(b, c, f)
        },
        g,
        f;
        a.fn = a.prototype = {
            context: b,
            selector: d,
            length: 0,
            init: function(c, f, j) {
                var d = this;
                if (!c) return d;
                if (c.nodeType) {
                    d.context = d[0] = c;
                    d.length = 1;
                    return d
                }
                if (c === "body" && !f && document.body) {
                    d.context = document;
                    d[0] = document.body || f.getElementsByTagName(c)[0];
                    d.selector = c;
                    d.length = 1;
                    return d
                }
                if (c === "head" || c === "html") {
                    d[0] = f.getElementsByTagName(c)[0];
                    d.selector = c;
                    d.length = 1;
                    return d
                }
                if (typeof c === h) {
                    if (c.charAt(0) === "<" && c.charAt(c.length - 1) === ">" && c.length >= 3) match = [b, c, b];
                    else match = a.regexs.quickExpr.exec(c);
                    if (match && (match[1] || !f)) if (match[1]) {
                        f = f instanceof a ? f[0] : f;
                        doc = f ? f.ownerDocument || f: document;
                        ret = a.regexs.rsingleTag.exec(c);
                        if (ret) if (a.isObject(f)) {
                            c = [document.createElement(ret[1])];
                            a.fn.attr.call(c, f, e)
                        } else c = [document.createElement(ret[1])];
                        else {
                            var l = doc.createElement("div");
                            l.innerHTML = match[1];
                            c = l.childNodes
                        }
                        return a.merge(d, c)
                    } else {
                        elem = document.getElementById(match[2]);
                        if (elem && elem.parentNode) {
                            if (elem.id !== match[2]) return j.find(c);
                            d.length = 1;
                            d[0] = elem
                        }
                        d.context = document;
                        d.selector = c;
                        return d
                    } else {
                        var k = a.find(c, f);
                        d.length = k.length;
                        for (var g = 0; g < d.length; g++) d[g] = k[g];
                        d.selector = c;
                        return d
                    }
                } else if (a.isFunction(c)) {
                    j = a(document);
                    return j.ready(c)
                }
                if (c.selector !== i) {
                    d.selector = c.selector;
                    d.context = c.context
                }
                return a.makeArray(c, d)
            },
            size: function() {
                return this.length
            },
            ready: function(b) {
                a.bindReady(b);
                return this
            },
            toArray: function() {
                return slice.call(this, 0)
            },
            item: function(a) {
                var c = this.size();
                return a >= 0 ? a <= c ? this[a] : b: Math.abs(a) <= c ? this[c + a] : b
            }
        };
        a.fn.init.prototype = a.fn;
        a.extend = a.fn.extend = function() {
            var k,
            h,
            f,
            e,
            j,
            l,
            d = arguments[0] || {},
            g = 1,
            n = arguments.length,
            m = c;
            if (typeof d === "boolean") {
                m = d;
                d = arguments[1] || {};
                g = 2
            }
            if (typeof d !== t && !a.isFunction(d)) d = {};
            if (n === g) {
                d = this; --g
            }
            for (; g < n; g++) if ((k = arguments[g]) != b) for (h in k) {
                f = d[h];
                e = k[h];
                if (d === e) continue;
                if (m && e && (a.isPlainObject(e) || (j = a.isArray(e)))) {
                    if (j) {
                        j = c;
                        l = f && a.isArray(f) ? f: []
                    } else l = f && a.isPlainObject(f) ? f: {};
                    d[h] = a.extend(m, l, e)
                } else if (e !== i) d[h] = e
            }
            return d
        };
        return a
    } ();
    a.extend({
        version: G,
        length: 0,
        info: {
            version: G,
            summary: "EC Framework JS Library",
            aouthor: "xp",
            build: "2011-9-26",
            release: H,
            modify: H,
            mender: "xp",
            modSummary: "1.添加主动画播放功能(2011-10-12)"
        },
        document: document.compatMode == "CSS1Compat" ? document.documentElement: document.body,
        isReady: c,
        readyWait: 1,
        holdReady: function(b) {
            if (b) a.readyWait++;
            else a.ready(e)
        },
        ready: function() {
            if (document.readyState === C) {
                a.isReady = e;
                for (var b = 0; b < readyList.length; b++) typeof readyList[b] == o && readyList[b].apply(this, [])
            }
            return this
        },
        bindReady: function() {
            var f = "onreadystatechange",
            e = "DOMContentLoaded",
            d,
            g = arguments[0],
            j = this;
            if (typeof readyList == k) {
                readyList = [];
                readyList.push(g)
            } else readyList.push(g);
            if (document.readyState === C) typeof g == o && g.apply(j, []);
            if (document.addEventListener) {
                d = function() {
                    document.removeEventListener(e, d, c);
                    a.ready()
                };
                document.addEventListener(e, d, c);
                n.addEventListener("load", a.ready, c)
            } else if (document.attachEvent) {
                d = function() {
                    if (document.readyState === C) {
                        document.detachEvent(f, d);
                        a.ready()
                    }
                };
                document.attachEvent(f, d);
                n.attachEvent("onload", a.ready);
                var h = c;
                try {
                    h = n.frameElement == b
                } catch(l) {}
                document.documentElement.doScroll && h && (function i() {
                    if (a.isReady) return;
                    try {
                        document.documentElement.doScroll("left")
                    } catch(b) {
                        setTimeout(i, 1);
                        return
                    }
                    a.ready()
                })()
            }
        },
        plugin: [],
        browser: function() {
            var q = document.getElementsByTagName("script"),
            l = q[q.length - 1].getAttribute("src", 2),
            r = l ? l.substring(0, l.lastIndexOf("/") + 1) : b,
            i = navigator,
            h = i.userAgent,
            a = d,
            g,
            j = c,
            n = c,
            o = c,
            p = c,
            m = c;
            switch (i.appName) {
            case "Microsoft Internet Explorer":
                g = "ie";
                j = e;
                a = /^.+MSIE (\d+\.\d+);.+$/;
                break;
            default:
                if (h.indexOf("Chrome") != f) {
                    g = "chrome";
                    n = e;
                    a = /^.+Chrome\/([\d.]+?)([\s].*)$/ig
                } else if (h.indexOf("Safari") != f) {
                    g = "safari";
                    o = e;
                    a = /^.+Version\/([\d\.]+?) (Mobile.)?Safari.+$/
                } else if (h.indexOf("Opera") != f) {
                    g = "opera";
                    p = e;
                    a = /^.{0,}Opera\/(.+?) \(.+$/
                } else {
                    g = "firefox";
                    m = e;
                    a = /^.+Firefox\/([\d\.]+).{0,}$/
                }
            }
            return {
                base: r,
                msie: j,
                opera: p,
                safari: o,
                chrome: n,
                firefox: m,
                version: h.replace(a, "$1"),
                lang: (!j ? i.language: i.browserLanguage).toLowerCase(),
                mobile: /(iPhone|iPad|iPod|Android)/i.test(h),
                isHtml5: typeof Worker !== k ? e: c
            }
        } (),
        now: function() {
            return (new Date).getTime()
        },
        regexs: {
            quickExpr: /^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,
            rnotwhite: /\S/,
            trimLeft: /^\s+/,
            trimRight: /\s+$/,
            rdigit: /\d/,
            rsingleTag: /^<(\w+)\s*\/?>(?:<\/\1>)?$/,
            rvalidchars: /^[\],:{}\s]*$/,
            rvalidescape: /\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,
            rvalidtokens: /"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
            rvalidbraces: /(?:^|:|,)(?:\s*\[)+/g,
            rwebkit: /(webkit)[ \/]([\w.]+)/,
            ropera: /(opera)(?:.*version)?[ \/]([\w.]+)/,
            rmsie: /(msie) ([\w.]+)/,
            rmozilla: /(mozilla)(?:.*? rv:([\w.]+))?/,
            rclass: /[\n\t\r]/g,
            rspace: /\s+/,
            rreturn: /\r/g,
            rtype: /^(?:button|input)$/i,
            rfocusable: /^(?:button|input|object|select|textarea)$/i,
            rclickable: /^a(?:rea)?$/i,
            rboolean: /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,
            rdashAlpha: /-([a-z]|[0-9])/ig,
            rmsPrefix: /^-ms-/,
            rinlineECF: / ECF\d+="(?:\d+|null)"/g,
            rleadingWhitespace: /^\s+/,
            rxhtmlTag: /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,
            rtagName: /<([\w:]+)/,
            rtbody: /<tbody/i,
            rhtml: /<|&#?\w+;/,
            rnocache: /<(?:script|object|embed|option|style)/i,
            rchecked: /checked\s*(?:[^=]|=\s*.checked.)/i,
            rscriptType: /\/(java|ecma)script/i,
            rcleanScript: /^\s*<!(?:\[CDATA\[|\-\-)/,
            rrelNum: /^([\-+])=([\-+.\de]+)/,
            rfxnum: /^([+-]=)?([\d+-.]+)(.*)$/,
            rupper: /([A-Z]|^ms)/g
        },
        type: function(a) {
            switch (a) {
            case b:
                return "Null";
            case void 0:
                return "Undefined"
            }
            var c = typeof a;
            switch (c) {
            case "boolean":
                return "Boolean";
            case p:
                return "Number";
            case h:
                return "String";
            case o:
                return "Function"
            }
            return "Object"
        },
        isFunction: function(b) {
            return a.type(b).toLowerCase() === o
        },
        isWindow: function(a) {
            return a && typeof a === t && "setInterval" in a
        },
        isArray: Array.isArray || 
        function(b) {
            return a.type(b) === "array"
        },
        isNaN: function(a) {
            return a == b || !rdigit.test(a) || isNaN(a)
        },
        isEmptyObject: function(a) {
            for (var b in a) return c;
            return e
        },
        isObject: function(b) {
            if (!b || a.type(b) !== "Object" || b.nodeType || a.isWindow(b)) return c;
            try {
                var d = Object.prototype.hasOwnProperty;
                if (b.constructor && !d.call(b, "constructor") && !d.call(b.constructor.prototype, "isPrototypeOf")) return c
            } catch(f) {
                return c
            }
            var e;
            for (e in b);
            return e === i || d.call(b, e)
        },
        isXMLDoc: function(a) {
            return a.nodeType === 9 && a.documentElement.nodeName !== "HTML" || !!a.ownerDocument && a.ownerDocument.documentElement.nodeName !== "HTML"
        },
        error: function(a) {
            throw a;
        },
        parseJSON: function(c) {
            if (typeof c !== h || !c) return b;
            c = c.trim();
            if (n.JSON && n.JSON.parse) return n.JSON.parse(c);
            if (rvalidchars.test(c.replace(rvalidescape, "@").replace(rvalidtokens, "]").replace(rvalidbraces, d))) return new Function("return " + c)();
            a.error("Invalid JSON: " + c)
        },
        parseXML: function(c) {
            var b,
            d;
            try {
                if (n.DOMParser) {
                    d = new DOMParser;
                    b = d.parseFromString(c, "text/xml")
                } else {
                    b = new ActiveXObject("Microsoft.XMLDOM");
                    b.async = "false";
                    b.loadXML(c)
                }
            } catch(e) {
                b = i
            } (!b || !b.documentElement || b.getElementsByTagName("parsererror").length) && a.error("Invalid XML: " + c);
            return b
        },
        globalEval: function(a) {
            a && rnotwhite.test(a) && (n.execScript || 
            function(a) {
                n.eval.call(n, a)
            })(a)
        },
        camelCase: function(e) {
            var b = /-([a-z]|[0-9])/ig,
            c = /^-ms-/,
            a = function(b, a) {
                return (a + d).toUpperCase()
            };
            return e.replace(c, "ms-").replace(b, a)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toUpperCase() === b.toUpperCase()
        },
        each: function(b, f, h) {
            var d,
            e = 0,
            g = b.length,
            j = g === i || a.isFunction(b);
            if (h) {
                if (j) {
                    for (d in b) if (f.apply(b[d], h) === c) break
                } else for (; e < g;) if (f.apply(b[e++], h) === c) break
            } else if (j) {
                for (d in b) if (f.call(b[d], d, b[d]) === c) break
            } else for (; e < g;) if (f.call(b[e], e, b[e++]) === c) break;
            return b
        },
        makeArray: function(c, f) {
            var e = f || [];
            if (c != b) {
                var d = a.type(c);
                if (c.length == b || d === h || d === o || d === "regexp" || a.isWindow(c)) Array.prototype.push.call(e, c);
                else a.merge(e, c)
            }
            return e
        },
        inArray: function(c, a) {
            if (!a) return f;
            if (Array.prototype.indexOf) return Array.prototype.indexOf.call(a, c);
            for (var b = 0, d = a.length; b < d; b++) if (a[b] === c) return b;
            return f
        },
        merge: function(b, a) {
            var d = b.length,
            c = 0;
            if (typeof a.length === p) for (var e = a.length; c < e; c++) b[d++] = a[c];
            else while (a[c] !== i) b[d++] = a[c++];
            b.length = d;
            return b
        },
        grep: function(b, f, c) {
            var e = [],
            d;
            c = !!c;
            for (var a = 0, g = b.length; a < g; a++) {
                d = !!f(b[a], a);
                c !== d && e.push(b[a])
            }
            return e
        },
        map: function(c, j, k) {
            var e,
            h,
            f = [],
            g = 0,
            d = c.length,
            l = c instanceof a || d !== i && typeof d === p && (d > 0 && c[0] && c[d - 1] || d === 0 || a.isArray(c));
            if (l) for (; g < d; g++) {
                e = j(c[g], g, k);
                if (e != b) f[f.length] = e
            } else for (h in c) {
                e = j(c[h], h, k);
                if (e != b) f[f.length] = e
            }
            return f.concat.apply([], f)
        },
        access: function(b, c, e, f, g, j) {
            var h = b.length;
            if (typeof c === t) {
                for (var k in c) a.access(b, k, c[k], f, g, e);
                return b
            }
            if (e !== i) {
                f = !j && f && a.isFunction(e);
                for (var d = 0; d < h; d++) g(b[d], c, f ? e.call(b[d], d, g(b[d], c)) : e, j);
                return b
            }
            return h ? g(b[0], c) : i
        },
        random: function(j, f, c, b) {
            if (!f && !c && !b) f = c = b = e;
            var g = [["A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"], ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"]],
            a = [],
            h = d;
            a = f ? a.concat(g[0]) : a;
            a = c ? a.concat(g[1]) : a;
            a = b ? a.concat(g[2]) : a;
            for (var i = 0; i < j; i++) h += a[Math.round(Math.random() * (a.length - 1))];
            return h
        },
        between: function(a, b) {
            return Math.round(a + Math.random() * (b - a))
        },
        url: function(b) {
            var a = document.createElement("a");
            a.href = b;
            return {
                source: b,
                protocol: a.protocol.replace(":", d),
                host: a.hostname,
                port: a.port,
                query: a.search,
                params: function() {
                    for (var f = {},
                    c = a.search.replace(/^\?/, d).split("&"), g = c.length, b = 0, e; b < g; b++) {
                        if (!c[b]) continue;
                        e = c[b].split("=");
                        f[e[0]] = e[1]
                    }
                    return f
                } (),
                file: (a.pathname.match(/\/([^\/?#]+)$/i) || [, d])[1],
                hash: a.hash.replace("#", d),
                path: a.pathname.replace(/^([^\/])/, "/$1"),
                relative: (a.href.match(/tps?:\/\/[^\/]+(.+)/) || [, d])[1],
                segments: a.pathname.replace(/^\//, d).split("/")
            }
        },
        contains: function(a, d) {
            var b = c;
            if (document.documentElement.contains) b = a !== d && (a.contains ? a.contains(d) : e);
            else if (document.documentElement.compareDocumentPosition) b = !!(a.compareDocumentPosition(d) & 16);
            return b
        },
        getWindow: function(b) {
            return a.isWindow(b) ? b: b.nodeType === 9 ? b.defaultView || b.parentWindow: c
        },
        elements: function() {
            var a = arguments[0],
            b = document.createElement("div");
            if (a) b.innerHTML = a;
            return b.childNodes
        }
    });
    a.extend({
        valHooks: {
            option: {
                "get": function(a) {
                    var b = a.attributes.value;
                    return ! b || b.specified ? a.value: a.text
                }
            },
            select: {
                "get": function(i) {
                    var h,
                    e = i.selectedIndex,
                    g = [],
                    d = i.options,
                    f = i.type === j;
                    if (e < 0) return b;
                    for (var k = f ? e: 0, l = f ? e + 1: d.length; k < l; k++) {
                        var c = d[k];
                        if (c.selected && (a.support.optDisabled ? !c.disabled: c.getAttribute("disabled") === b) && (!c.parentNode.disabled || !a.nodeName(c.parentNode, "optgroup"))) {
                            h = a(c).val();
                            if (f) return h;
                            g.push(h)
                        }
                    }
                    return f && !g.length && d.length ? a(d[e]).val() : g
                },
                "set": function(c, d) {
                    var b = a.makeArray(d);
                    a(c).find("option").each(function() {
                        this.selected = a.inArray(a(this).val(), b) >= 0
                    });
                    if (!b.length) c.selectedIndex = f;
                    return b
                }
            }
        },
        attrFn: {
            val: e,
            css: e,
            html: e,
            text: e,
            data: e,
            width: e,
            height: e,
            click: e,
            offset: e
        },
        attrFix: {
            tabindex: I
        },
        attr: function(c, d, e, g) {
            var f = c.nodeType;
            if (!c || f === 3 || f === 8 || f === 2) return i;
            if (g && d in a.attrFn) return a(c)[d](e);
            if (! ("getAttribute" in c)) return a.prop(c, d, e);
            if (typeof d == h) if (e !== i) if (e == b) a.removeAttr(c, d);
            else for (var j in d) switch (j) {
            case "class":
                c.className = e;
                break;
            default:
                c.setAttribute(d, e)
            } else switch (d) {
            case "class":
                return c.className;
                break;
            default:
                return c.getAttribute(d)
            }
            return this
        },
        removeAttr: function(d, b) {
            var e;
            if (d.nodeType === 1) {
                b = a.attrFix[b] || b;
                d.removeAttribute(b);
                if (a.regexs.rboolean.test(b) && (e = a.propFix[b] || b) in d) d[e] = c
            }
        },
        attrHooks: {
            type: {
                "set": function(b, c) {
                    if (rtype.test(b.nodeName) && b.parentNode) a.error("type property can't be changed");
                    else if (!a.support.radioValue && c === r && a.nodeName(b, "input")) {
                        var d = b.value;
                        b.setAttribute("type", c);
                        if (d) b.value = d;
                        return c
                    }
                }
            },
            value: {
                "get": function(c, d) {
                    return nodeHook && a.nodeName(c, "button") ? nodeHook.get(c, d) : d in c ? c.value: b
                },
                "set": function(b, c, d) {
                    if (nodeHook && a.nodeName(b, "button")) return nodeHook.set(b, c, d);
                    b.value = c
                }
            }
        },
        propFix: {
            tabindex: I,
            readonly: "readOnly",
            "for": "htmlFor",
            "class": F,
            maxlength: "maxLength",
            cellspacing: "cellSpacing",
            cellpadding: "cellPadding",
            rowspan: "rowSpan",
            colspan: "colSpan",
            usemap: "useMap",
            frameborder: "frameBorder",
            contenteditable: "contentEditable"
        },
        prop: function(e, c, h) {
            var f = e.nodeType;
            if (!e || f === 3 || f === 8 || f === 2) return i;
            var g,
            d,
            j = f !== 1 || !a.isXMLDoc(e);
            if (j) {
                c = a.propFix[c] || c;
                d = a.propHooks[c]
            }
            return h !== i ? d && "set" in d && (g = d.set(e, h, c)) !== i ? g: (e[c] = h) : d && "get" in d && (g = d.get(e, c)) !== b ? g: e[c]
        },
        propHooks: {
            tabIndex: {
                "get": function(a) {
                    var b = a.getAttributeNode("tabindex");
                    return b && b.specified ? parseInt(b.value, 10) : rfocusable.test(a.nodeName) || rclickable.test(a.nodeName) && a.href ? 0: i
                }
            }
        }
    });
    a.extend({
        cssHooks: {
            opacity: {
                "get": function(a, e) {
                    String.prototype.capitalize = function() {
                        return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase()
                    };
                    Array.prototype.contains = function(a) {
                        return this.indexOf(a) >= 0
                    };
                    String.prototype.camelize = function() {
                        return this.replace(/\-(\w)/ig, 
                        function(b, a) {
                            return a.toUpperCase()
                        })
                    };
                    var f = {
                        getStyle: function(d, c) {
                            var a,
                            d = d;
                            if (c == A) document.defaultView ? (c = A) : (c = D);
                            a = d.style[c] || d.style[c.camelize()];
                            if (!a) if (document.defaultView && document.defaultView.getComputedStyle) {
                                var e = document.defaultView.getComputedStyle(d, b);
                                a = e ? e.getPropertyValue(c) : b
                            } else if (d.currentStyle) a = d.currentStyle[c.camelize()];
                            if (a == u && ["width", "height"].contains(c) && d.style.display != "none") a = d[v + c.capitalize()] + q;
                            if (c == l) try {
                                a = d.filters["DXImageTransform.Microsoft.Alpha"].opacity;
                                a = a / 100
                            } catch(g) {
                                try {
                                    a = d.filters("alpha").opacity
                                } catch(f) {}
                            }
                            return a == u ? b: a
                        }
                    };
                    if (e) {
                        var c = f.getStyle(a, l, l);
                        return c === d ? "1": c
                    } else return a.style.opacity
                }
            }
        },
        cssNumber: {
            fillOpacity: e,
            fontWeight: e,
            lineHeight: e,
            opacity: e,
            orphans: e,
            widows: e,
            zIndex: e,
            zoom: e
        },
        cssProps: {
            "float": e ? E: D
        },
        style: function(e, g, d, n) {
            if (!e || e.nodeType === 3 || e.nodeType === 8 || !e.style) return;
            var k,
            j,
            l = a.camelCase(g),
            m = e.style,
            f = a.cssHooks[l];
            g = a.cssProps[l] || l;
            if (d !== i) {
                j = typeof d;
                if (j === h && (k = a.regexs.rrelNum.exec(d))) {
                    d = +(k[1] + 1) * +k[2] + parseFloat(a.css(e, g));
                    j = p
                }
                if (d == b || j === p && isNaN(d)) return;
                if (j === p && !a.cssNumber[l]) d += q;
                if (!f || !("set" in f) || (d = f.set(e, d)) !== i) try {
                    m[g] = d
                } catch(o) {}
            } else return f && "get" in f && (k = f.get(e, c, n)) !== i ? k: m[g]
        },
        css: function(k, c, m) {
            var l,
            f;
            c = a.camelCase(c);
            f = a.cssHooks[c];
            c = a.cssProps[c] || c;
            if (c === E) c = A;
            var g,
            h;
            if (document.defaultView && document.defaultView.getComputedStyle) g = function(c, e) {
                var f,
                h,
                g;
                if (!e) return;
                e = e.replace(a.regexs.rupper, "-$1").toLowerCase();
                if (! (h = c.ownerDocument.defaultView)) return i;
                if (g = h.getComputedStyle(c, b)) {
                    f = g.getPropertyValue(e);
                    if (f === d && !a.contains(c.ownerDocument.documentElement, c)) f = a.style(c, e)
                }
                return f
            };
            if (document.documentElement.currentStyle) h = function(a, f) {
                var g,
                b = a.currentStyle && a.currentStyle[f],
                e = a.runtimeStyle && a.runtimeStyle[f],
                h = /^-?\d+(?:px)?$/i,
                i = /^-?\d/,
                c = a.style;
                if (!h.test(b) && i.test(b)) {
                    g = c.left;
                    if (e) a.runtimeStyle.left = a.currentStyle.left;
                    c.left = f === "fontSize" ? "1em": b || 0;
                    b = c.pixelLeft + q;
                    c.left = g;
                    if (e) a.runtimeStyle.left = e
                }
                return b === d ? u: b
            };
            var j = g || h;
            return f && "get" in f && (l = f.get(k, e, m)) !== i ? l: j ? j(k, c) : void 0
        },
        swap: function(b, c, e) {
            var d = {};
            for (var a in c) {
                d[a] = b.style[a];
                b.style[a] = c[a]
            }
            e.call(b);
            for (a in c) b.style[a] = d[a]
        }
    });
    a.extend({
        cache: {},
        data: function(f, d, e) {
            var b = a.cache,
            c = "@cache" + (new Date).getTime();
            if (d === i) return b[c];
            if (!b[c]) b[c] = {};
            if (e !== i) b[c][d] = e;
            return b[c][d]
        },
        removeData: function(a, j) {
            var i = e,
            g = $.expando,
            h = $.cache,
            d = uuid(a),
            f = d && h[d];
            if (!f) return;
            if (j) {
                delete f[j];
                for (var k in f) i = c;
                if (i) delete $.cache[d]
            } else {
                delete h[d];
                if (a.removeAttribute) a.removeAttribute(g);
                else a[g] = b
            }
        },
        cleanData: function(d) {
            for (var c = 0, b, g = d.length, e = a.event.remove, f = a.removeData; c < g; c++) {
                b = d[c];
                e(b);
                f(b)
            }
        },
        noData: {
            embed: e,
            object: "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
            applet: e
        }
    });
    a.fn.extend({
        data: function() {}
    });
    a.fn.extend({
        attr: function(c, b) {
            return a.access(this, c, b, e, a.attr)
        },
        value: function(a, d) {
            if (typeof a != k) {
                this.each(function(b) {
                    var h = b.length;
                    switch (b.type) {
                    case j:
                        for (var g = 0; g < h; g++) if (b[g].value == a) {
                            b.selectedIndex = g;
                            break
                        }
                        break;
                    case m:
                        for (var g = 0; g < h; g++) if (Mo.Array(a).indexOf(b[g].value) !== f) b[g].selected = e;
                        else b[g].selected = c;
                        break;
                    case r:
                    case w:
                        if (Mo.Validate.Array(a) && Mo.Array(a).indexOf(b.value) !== f || b.value == a) b.checked = e;
                        else b.checked = c;
                        break;
                    case x:
                    case s:
                    case y:
                    case z:
                        if (d) b.value += a;
                        else b.value = a
                    }
                });
                return this
            }
            var b = [];
            this.each(function(a) {
                var d = a.length;
                switch (a.type) {
                case j:
                    if (d) b = a[a.selectedIndex].value;
                    break;
                case m:
                    for (var c = 0; c < d; c++) a[c].selected && b.push(a[c].value);
                    break;
                case r:
                case w:
                    a.checked && b.push(a.value);
                    break;
                case x:
                case s:
                case y:
                case z:
                    b = a.value
                }
            });
            return b
        },
        placeholder: function() {
            if (a.browser.isHtml5) return this;
            this.each(function(e) {
                var c = a(e),
                b = c.attr("placeholder");
                if (b) {
                    e.value = b;
                    c.bind("focus", 
                    function() {
                        if (this.value == b) this.value = d
                    });
                    c.bind("blur", 
                    function() {
                        if (this.value == d) this.value = b
                    })
                }
            });
            return this
        },
        serialize: function() {},
        serializeArray: function() {
            var a = [];
            this.each(function(b) {
                var e = b.length,
                c = {};
                c.name = b.id || b.name;
                switch (b.type) {
                case j:
                    if (e) {
                        c.value = b[b.selectedIndex].value;
                        a.push(c)
                    }
                    break;
                case m:
                    for (var d = 0; d < e; d++) if (b[d].selected) {
                        c.value = b[d].value;
                        a.push(c)
                    }
                    break;
                case r:
                case w:
                    if (b.checked) {
                        c.value = b.value;
                        a.push(c)
                    }
                    break;
                case x:
                case s:
                case y:
                case z:
                    c.value = b.value;
                    a.push(c)
                }
            });
            return a
        },
        item: function(a) {
            var c = this.length;
            return a >= 0 ? a <= c ? this[a] : b: Math.abs(a) <= c ? this[c + a] : b
        },
        text: function(b, a) {
            if (typeof b != k) {
                this.each(function(g) {
                    var h = g.length;
                    switch (g.type) {
                    case j:
                        for (var d = 0; d < h; d++) if (g[d].text == b) {
                            g.selectedIndex = d;
                            if (typeof a != k) g[d].text = a;
                            break
                        }
                        break;
                    case m:
                        for (var d = 0; d < h; d++) if (Mo.Array(b).indexOf(g[d].text) !== f) {
                            g[d].selected = e;
                            if (typeof a != k) g[d].text = a
                        } else g[d].selected = c;
                        break;
                    default:
                        g.innerHTML = b
                    }
                });
                return this
            }
            var d = [];
            this.each(function(a) {
                var c = a.length;
                switch (a.type) {
                case j:
                    if (c) d = a[a.selectedIndex].text;
                    break;
                case m:
                    for (var b = 0; b < c; b++) a[b].selected && d.push(a[b].text)
                }
            });
            return d
        },
        html: function(e, g) {
            var c = this;
            if (e === i) return c[0] && c[0].nodeType === 1 ? c[0].innerHTML.replace(a.regexs.rinlineECF, d) : b;
            else if (typeof e === h && !a.regexs.rnocache.test(e)) {
                e = e.replace(a.regexs.rxhtmlTag, "<$1></$2>");
                try {
                    for (var f = 0, j = c.length; f < j; f++) if (c[f].nodeType === 1) if (g) c[f].innerHTML += e;
                    else c[f].innerHTML = e
                } catch(k) {}
            } else a.isFunction(e) && c.each(function(c) {
                var b = a(this);
                b.html(e.call(this, c, b.html()))
            });
            return c
        },
        css: function(c, b) {
            return arguments.length === 2 && b === i ? this: a.access(this, c, b, e, 
            function(c, d, b) {
                return b !== i ? a.style(c, d, b) : a.css(c, d)
            })
        },
        style: function(a) {
            if (typeof a == h) {
                var b = this[0],
                c = function() {
                    var a = document.defaultView;
                    return new Function("el", "style", ["style.indexOf('-')>-1 && (style=style.replace(/-(\\w)/g,function(m,a){return a.toUpperCase()}));", "style=='float' && (style='", a ? E: D, "');return el.style[style] || ", a ? "window.getComputedStyle(el, null)[style]": "el.currentStyle[style]", " || null;"].join(d))
                } ();
                return c(b, a)
            } else {
                this.each(function(c) {
                    for (var b in a) c.style[b] = a[b]
                });
                return this
            }
        },
        position: function(b) {
            var a = this[0];
            if (!a) return {};
            if (b) {
                alert(b.left);
                if (b.left) a.style.left = b.left + q;
                if (b.top) a.style.top = b.top + q;
                return this
            } else {
                var f = a.offsetWidth,
                e = a.offsetHeight,
                d = a.offsetTop,
                c = a.offsetLeft;
                while (a = a.offsetParent) {
                    d += a.offsetTop;
                    c += a.offsetLeft
                }
                return {
                    width: f,
                    height: e,
                    top: d,
                    left: c
                }
            }
        },
        hasClass: function(d) {
            var b = g + d + g;
            return (g + this[0].className + g).replace(a.regexs.rclass, g).indexOf(b) > f ? e: c
        },
        addClass: function(b) {
            var i = this,
            d,
            j,
            l,
            c,
            f,
            e,
            k;
            if (a.isFunction(b)) return i.each(function(c) {
                a(this).addClass(b.call(this, c, this.className))
            });
            if (b && typeof b === h) {
                d = b.split(a.regexs.rspace);
                for (j = 0, l = i.length; j < l; j++) {
                    c = i[j];
                    if (c.nodeType === 1) if (!c.className && d.length === 1) c.className = b;
                    else {
                        f = g + c.className + g;
                        for (e = 0, k = d.length; e < k; e++) if (!~f.indexOf(g + d[e] + g)) f += d[e] + g;
                        c.className = f.trim()
                    }
                }
            }
            return i
        },
        removeClass: function(b) {
            var f = this,
            l,
            k,
            n,
            c,
            e,
            j,
            m;
            if (a.isFunction(b)) return f.each(function(c) {
                a(this).removeClass(b.call(this, c, this.className))
            });
            if (b && typeof b === h || b === i) {
                l = (b || d).split(a.regexs.rspace);
                for (k = 0, n = f.length; k < n; k++) {
                    c = f[k];
                    if (c.nodeType === 1 && c.className) if (b) {
                        e = (g + c.className + g).replace(a.regexs.rclass, g);
                        for (j = 0, m = l.length; j < m; j++) e = e.replace(g + l[j] + g, g);
                        c.className = e.trim()
                    } else c.className = d
                }
            }
            return f
        },
        offset: function() {
            var c = this[0],
            d = c.getBoundingClientRect(),
            e = c.ownerDocument,
            b = e.body,
            a = e.documentElement,
            g = a.clientTop || b.clientTop || 0,
            f = a.clientLeft || b.clientLeft || 0,
            i = d.top + (self.pageYOffset || a.scrollTop) - g,
            h = d.left + (self.pageXOffset || a.scrollLeft) - f;
            return {
                left: h,
                top: i
            }
        },
        width: function() {},
        height: function() {},
        size: function() {
            var a = this[0],
            b = 0;
            a;
            return b
        },
        hide: function() {},
        show: function(e, h, g) {
            var a = this,
            b,
            c;
            if (e || e === 0) return a.animate(genFx("show", 3), e, h, g);
            else {
                for (var f = 0, i = a.length; f < i; f++) {
                    b = a[f];
                    if (b.style) {
                        c = b.style.display;
                        if (c === "none") c = b.style.display = d
                    }
                }
                return a
            }
        },
        toggle: function() {},
        each: function(d) {
            for (var e = this.length, b = this, a = 0; a < e; a++) {
                var f = d.call(b[a], b[a], a);
                if (f === c) break
            }
            return this
        },
        unbind: function(a) {
            this.each(function(c) {
                c["on" + a] = b
            });
            return this
        },
        add: function() {},
        prepend: function() {
            var a = this[0];
            a && a.nodeType === 1 && a.insertBefore(arguments[0], a.firstChild);
            return this
        },
        append: function() {
            var a = this[0];
            a && a.nodeType === 1 && a.appendChild(arguments[0]);
            return this
        },
        appendTo: function(b) {
            a(b).append(this[0]);
            return this
        },
        after: function() {
            var c = arguments[0],
            b = this[0];
            if (b && b.parentNode) if (typeof c === h) for (var e = a.elements(c), d = 0; d < e.length; d++) b.parentNode.insertBefore(e[d], b.nextSibling);
            else c && c.nodeType == 1 && b.parentNode.insertBefore(c, b.nextSibling);
            return this
        },
        remove: function() {
            this.each(function(a) {
                a.parentNode && a.parentNode.removeChild(a)
            });
            return this
        },
        first: function() {
            return this.item(0)
        },
        end: function() {},
        empty: function() {
            for (var d = 0, c; (c = this[d]) != b; d++) {
                c.nodeType === 1 && a.cleanData(c.getElementsByTagName("*"));
                while (c.firstChild) c.removeChild(c.firstChild)
            }
            return this
        },
        children: function() {},
        parent: function() {
            var c = this[0],
            a = c.parentNode;
            return a && a.nodeType !== 11 ? a: b
        },
        parents: function() {},
        prev: function() {},
        next: function() {},
        hover: function() {
            this.mouseover(arguments[0]).mouseout(arguments[1]);
            return this
        },
        stop: function() {
            for (var c = a.timers, b = c.length - 1; b >= 0; b--) c[b].elem === this[0] && c.splice(b, 1);
            return this
        },
        animate: function(e, d, c, b) {
            return a.animate(this[0], e, d, c, b)
        },
        find: function(b) {
            return a.find(b, this[0])
        }
    });
    a.extend({
        cookie: {
            "get": function(c) {
                var a = document.cookie.match(new RegExp(c + "=[a-zA-Z0-9.()=|%/]+($|;)", "g"));
                return ! a || !a[0] ? b: unescape(a[0].substring(c.length + 1, a[0].length).replace(";", d)) || b
            },
            "set": function(h, g, e, c, b, f) {
                var a = [h + "=" + escape(g), "path=" + (!c || c == d ? "/": c), "domain=" + (!b || b == d ? n.location.hostname: b)];
                e && a.push(Mo.Cookie.hoursToExpireDate(e));
                f && a.push("secure");
                return document.cookie = a.join("; ")
            },
            unset: function(c, b, a) {
                b = !b || typeof b != h ? d: b;
                a = !a || typeof a != h ? d: a;
                Mo.Cookie.get(c) && Mo.Cookie.set(c, d, "Thu, 01-Jan-70 00:00:01 GMT", b, a)
            },
            hoursToExpireDate: function(b) {
                if (parseInt(b) == "NaN") return d;
                else {
                    var a = new Date;
                    a.setTime(a.getTime() + parseInt(b) * 60 * 60 * 1e3);
                    return a.toGMTString()
                }
            },
            dump: function() {
                typeof console != k && console.log(document.cookie.split(";"))
            },
            clear: function() {
                var a = document.cookie.match(/[^ =;]+(?=\=)/g);
                if (a) for (var b = a.length; b--;) Mo.Cookie.unset(a[b])
            }
        }
    });
    a.extend({
        event: {
            add: function(d, g, f) {
                if (d.nodeType === 3 || d.nodeType === 8) return;
                if (f === c) f = function() {
                    return c
                };
                else if (!f) return;
                if (f) if (d.addEventListener) d.addEventListener(g, f, c);
                else d.attachEvent && d.attachEvent("on" + g, f);
                a.event.global[g] = e;
                d = b
            },
            global: {},
            remove: function(g, h, k) {
                var f = "@events",
                d,
                b,
                i,
                m = a.event,
                l = e,
                j = a.data(g, f);
                if (!j) return;
                if (!h) {
                    for (d in j) m.remove(g, d);
                    return
                }
                b = j[h];
                if (!b) return;
                i = b.listeners;
                if (k) for (d = 0; d < i.length; d++) i[d] === k && i.splice(d--, 1);
                else b.listeners = [];
                if (b.listeners.length === 0) {
                    document.removeEventListener ? g.removeEventListener(h, b.handler, c) : g.detachEvent("on" + h, b.handler);
                    delete j[h];
                    b = a.data(g, f);
                    for (var n in b) l = c;
                    l && a.removeData(g, f)
                }
            },
            handler: function(b) {
                return function(d) {
                    d = a.event.fix(d || n.event);
                    for (var g = 0, f = b.listeners, e; e = f[g++];) if (e.call(b.elem, d) === c) {
                        d.preventDefault();
                        d.stopPropagation()
                    }
                }
            },
            fix: function(a) {
                if (a.target) return a;
                var b = {
                    target: a.srcElement || document,
                    preventDefault: function() {
                        a.returnValue = c
                    },
                    stopPropagation: function() {
                        a.cancelBubble = e
                    }
                };
                for (var d in a) b[d] = a[d];
                return b
            }
        }
    });
    a.extend({
        opacity: {
            "get": function(a) {
                return l in document.documentElement.style ? document.defaultView.getComputedStyle(a, c).opacity: ropacity.test((a.currentStyle ? a.currentStyle.filter: a.style.filter) || d) ? parseFloat(RegExp.$1) / 100 + d: 1
            },
            "set": function(h, f) {
                if (l in document.documentElement.style) return h.style.opacity = f;
                var a = h.style;
                a.zoom = 1;
                var b = "alpha(opacity=" + f * 100 + ")",
                c = a.filter || d,
                e = /alpha\([^)]*\)/i;
                a.filter = e.test(c) ? c.replace(e, b) : a.filter + g + b
            }
        },
        animate: function(c, n, j, e, h) {
            j = j || 400;
            if (!c) return this;
            if (typeof e === o) h = e;
            e = e && a.easing[e] ? e: "swing";
            var r = this,
            i,
            q,
            f,
            m,
            g,
            p,
            k = {
                speed: j,
                easing: e,
                callback: function() {
                    if (i != b) c.style.overflow = d;
                    h && h()
                }
            };
            k.curAnim = {};
            a.each(n, 
            function(a, b) {
                k.curAnim[a] = b
            });
            a.each(n, 
            function(d, e) {
                q = new a.fx(c, k, d);
                f = a.regexs.rfxnum.exec(e);
                if (f == b) return;
                m = parseFloat(d === l || c.style && c.style[d] != b ? a(c).css(d) : c[d]);
                g = parseFloat(f[2]);
                p = f[3];
                if (d === "height" || d === "width") {
                    g = Math.max(0, g);
                    i = [c.style.overflow, c.style.overflowX, c.style.overflowY]
                }
                q.custom(m, g, p)
            });
            if (i != b) c.style.overflow = s;
            return this
        },
        easing: {
            linear: function(c, d, a, b) {
                return a + b * c
            },
            swing: function(c, d, a, b) {
                return ( - Math.cos(c * Math.PI) / 2 + .5) * b + a
            }
        },
        timers: [],
        fx: function(b, a, c) {
            this.elem = b;
            this.options = a;
            this.prop = c
        }
    });
    a.extend(a.fx, {
        timerId: b,
        tick: function() {
            for (var b = a.timers, c = 0; c < b.length; c++) ! b[c]() && b.splice(c--, 1); ! b.length && a.fx.stop()
        },
        stop: function() {
            clearInterval(a.fx.timerId);
            a.fx.timerId = b
        }
    });
    a.extend(a.fx.prototype, {
        custom: function(d, f, e) {
            var b = this;
            b.startTime = a.now();
            b.start = d;
            b.end = f;
            b.unit = e;
            b.now = b.start;
            b.state = b.pos = 0;
            function c() {
                return b.step()
            }
            c.elem = b.elem;
            c();
            a.timers.push(c);
            if (!a.fx.timerId) a.fx.timerId = setInterval(a.fx.tick, 13)
        },
        step: function() {
            var b = this,
            g = a.now(),
            d = e;
            if (g >= b.options.speed + b.startTime) {
                b.now = b.end;
                b.state = b.pos = 1;
                b.update();
                b.options.curAnim[b.prop] = e;
                for (var h in b.options.curAnim) if (b.options.curAnim[h] !== e) d = c;
                d && b.options.callback.call(b.elem);
                return c
            } else {
                var f = g - b.startTime;
                b.state = f / b.options.speed;
                b.pos = a.easing[b.options.easing](b.state, f, 0, 1, b.options.speed);
                b.now = b.start + (b.end - b.start) * b.pos;
                b.update();
                return e
            }
        },
        update: function() {
            var c = this;
            if (c.prop === l) a.opacity.set(c.elem, c.now);
            else if (c.elem.style && c.elem.style[c.prop] != b) c.elem.style[c.prop] = c.now + c.unit;
            else c.elem[c.prop] = c.now
        }
    });
    a.extend(String.prototype, {
        trim: function() {
            return this.replace(/(^\s*)|(\s*$)/g, d)
        },
        leftTrim: function() {
            return this.replace(/(^\s*)/g, d)
        },
        rightTrim: function() {
            return this.replace(/(\s*$)/g, d)
        },
        stripScript: function() {
            return this.replace(/<script.*?>.*?<\/script>/ig, d)
        },
        unicode: function() {
            var a = this;
            if (a) {
                for (var c = d, b = 0; b < a.length; b++) c += "&#" + a.charCodeAt(b) + ";";
                return c
            }
            return a
        },
        ascii: function() {
            if (this) {
                var a = this.match(/&#(\d+);/g);
                if (a != b) {
                    for (var e = d, c = 0; c < a.length; c++) e += String.fromCharCode(a[c].replace(/[&#;]/g, d));
                    return e
                }
            }
            return this
        },
        format: function() {
            for (var b = [], a = 0, c = arguments.length; a < c; a++) b.push(arguments[a]);
            return this.replace(/\{(\d+)\}/g, 
            function(c, a) {
                return b[a]
            })
        },
        htmlDecode: function() {
            return this.replace(/&lt;/g, "<").replace(/&gt;/g, ">").replace(/&amp;/g, "&").replace(/&quot;/g, '"')
        },
        htmlEncode: function() {
            return this.replace(/&/g, "&amp;").replace(/\"/g, "&quot;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
        }
    });
    a.extend(Number.prototype, {
        isNumber: function() {
            return /^[0-9]{1,20}$/.exec(this)
        }
    });
    a.extend(Function.prototype, {
        execute: function(b) {
            var a = this || new Function;
            if (b) n.setTimeout(a, b);
            else a()
        },
        find: function() {
            var p = /(?:[\*\w\-\\.#]+)+(?:\[\w+?=([\'"])?(?:\\\1|.)+?\1\])?|\*|>/ig,
            i = /^(?:[\w\-_]+)?\.([\w\-_]+)/,
            m = /^(?:[\w\-_]+)?#([\w\-_]+)/,
            j = /^([\w\*\-_]+)/,
            a = [b, b, b],
            l = /\[([\w\-_][^=]+)=([\'\[\]\w\-_]+)\]/,
            q = /\[([\w\-_][^=]+)=(([\w\-_]+)\{([\w\-_]+)\})\]/;
            function n(e, c) {
                c = c || document;
                var B = /^[\w\-_#]+$/.test(e);
                if (!B && c.querySelectorAll) return h(c.querySelectorAll(e));
                if (e.indexOf(",") > f) {
                    for (var z = e.split(/,/g), v = [], t = 0, C = z.length; t < C; ++t) v = v.concat(n(z[t], c));
                    return o(v)
                }
                var u = e.match(p),
                q = u.pop(),
                r = (q.match(m) || a)[1],
                s = !r && (q.match(i) || a)[1],
                w = !r && (q.match(j) || a)[1],
                b,
                y = (q.match(l) || a)[1],
                x = (q.match(l) || a)[2];
                if (s && !w && c.getElementsByClassName) b = h(c.getElementsByClassName(s));
                else {
                    b = !r && h(c.getElementsByTagName(w || "*"));
                    if (s) b = k(b, F, RegExp("(^|\\s)" + s + "(\\s|$)"));
                    if (r) {
                        var A = c.getElementById(r);
                        return A ? [A] : []
                    }
                    if (y && x) b = k(b, y, RegExp("(^" + x.replace(/\'/g, d).replace(/\-/g, "\\-").replace(/\[/g, "\\[").replace(/\]/g, "\\]") + "$)"))
                }
                return u[0] && b[0] ? g(u, b) : b
            }
            function h(b) {
                try {
                    return Array.prototype.slice.call(b)
                } catch(e) {
                    for (var c = [], a = 0, d = b.length; a < d; ++a) c[a] = b[a];
                    return c
                }
            }
            function g(k, p, s) {
                var h = k.pop();
                if (h === ">") return g(k, p, e);
                var l = [],
                t = f,
                n = (h.match(m) || a)[1],
                q = !n && (h.match(i) || a)[1],
                c = !n && (h.match(j) || a)[1],
                r = f,
                o,
                d,
                b;
                c = c && c.toLowerCase();
                while (o = p[++r]) {
                    d = o.parentNode;
                    do {
                        b = !c || c === "*" || c === d.nodeName.toLowerCase();
                        b = b && (!n || d.id === n);
                        b = b && (!q || RegExp("(^|\\s)" + q + "(\\s|$)").test(d.className));
                        if (s || b) break
                    }
                    while (d = d.parentNode);
                    if (b) l[++t] = o
                }
                return k[0] && l[0] ? g(k, l) : l
            }
            var o = function() {
                var a = +new Date,
                b = function() {
                    var b = 1;
                    return function(d) {
                        var g = d[a],
                        f = b++;
                        if (!g) {
                            d[a] = f;
                            return e
                        }
                        return c
                    }
                } ();
                return function(e) {
                    for (var h = e.length, g = [], i = f, d = 0, c; d < h; ++d) {
                        c = e[d];
                        if (b(c)) g[++i] = c
                    }
                    a += 1;
                    return g
                }
            } ();
            function k(c, e, d) {
                var g = f,
                a,
                h = f,
                b = [];
                while (a = c[++g]) if (d.test(a[e])) b[++h] = a;
                return b
            }
            return n
        } ()
    });
    a.each(["bind", "one"], 
    function(d, b) {
        a.fn[b] = function(f, e, g) {
            var d = this,
            h;
            if (typeof f === t) {
                for (var k in f) d[b](k, e, f[k], g);
                return d
            }
            if (arguments.length === 2 || e === c) {
                g = e;
                e = i
            }
            if (b === "one") {
                h = function(b) {
                    a(this).unbind(b, h);
                    return g.apply(this, arguments)
                };
                h.guid = g.guid || a.guid++
            } else h = g;
            if (f === "unload" && b !== "one") d.one(f, e, g);
            else for (var j = 0, l = d.length; j < l; j++) a.event.add(d[j], f, h, e);
            return d
        }
    });
    a.each(["Left", "Top"], 
    function(d, c) {
        var b = B + c;
        a.fn[b] = function() {
            var c = "pageXOffset",
            f = this[0],
            e;
            e = a.getWindow(f);
            return e ? c in e ? e[d ? "pageYOffset": c] : e.document.documentElement[b] || e.document.body[b] : f[b]
        }
    });
    a.each(["Height", "Width"], 
    function(e, c) {
        var d = c.toLowerCase();
        a.fn[d] = function(f) {
            var e = "client",
            d = this[0];
            return ! d ? f == b ? b: this: a.isWindow(d) ? d.document.documentElement[e + c] || d.document.body[e + c] : d.nodeType === 9 ? Math.max(d.documentElement[e + c], d.body[B + c], d.documentElement[B + c], d.body[v + c], d.documentElement[v + c]) : b
        }
    });
    a.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(g), 
    function(d, c) {
        a.fn[c] = function(a, d) {
            if (d == b) {
                d = a;
                a = b
            }
            return arguments.length > 0 ? this.bind(c, a, d) : this.trigger(c)
        };
        if (a.attrFn) a.attrFn[c] = e
    });
    n.ECF = n.$e = a
})(window);

 (function(E, h) {
    var y = "</div>",
    B = "question",
    A = "absolute",
    l = "body",
    t = "close",
    c = false,
    m = ",",
    s = "0px",
    v = "temp",
    i = "none",
    p = "Min",
    r = "Max",
    x = "number",
    b = "px",
    n = "100%",
    k = -1,
    o = "%",
    w = "block",
    f = null,
    d = "",
    e = "auto",
    q = "function",
    g = true;
    h.topDialog;
    var j = ECF.dialog = function(a, c, b) {
        var h,
        g = [],
        d = j.defaults,
        f;
        if (a) {
            function e(a, c) {
                for (var b in c) if (a[b] == undefined) a[b] = c[b];
                return a
            }
            a = e(a, d);
            f = a.follow = this.nodeType === 1 && this || a.follow;
            a.id = a.id + j.defaults.guid++;
            return j.list[a.id] = new j.fn._init(a, c, b)
        } else return new j.fn._init(a, c, b)
    };
    j.list = {};
    var D = ECF(document),
    u = ECF(h);
    j.fn = j.prototype = {
        version: "1.0.0",
        build: "2011-10-17",
        _init: function(a, d, c) {
            var b = this,
            e;
            a = b._config(a);
            b.DOM = e = b._initDOM(a, g);
            if (!ECF.isArray(a.button)) a.button = a.button ? [a.button] : [];
            if (d !== undefined) a.ok = d;
            if (c !== undefined) a.cancel = c;
            a.ok && a.button.push({
                name: a.okVal,
                callback: typeof a.ok == q ? a.ok: b.close,
                focus: g
            });
            a.cancel && a.button.push({
                name: a.cancelVal,
                callback: typeof a.cancel == q ? a.cancel: b.cancel
            });
            b[a.show ? "show": "hide"](g);
            b.button(a.button).title(a.title).content(a.content, g).size(a.width, a.height).time(a.time);
            a.follow ? b.follow(a.follow) : b.position(a.left, a.top);
            b.focus(a.focus);
            a.lock && b.lock();
            b._addEvent();
            b._ie6PngFix();
            a.init && a.init.call(b, h);
            return b
        },
        title: function(c) {
            var a = this,
            b;
            if (!a.DOM) a.DOM = a._initDOM();
            b = a.DOM.titleInfo;
            if (b) b.innerHTML = c;
            a.show();
            return a
        },
        content: function(a) {
            var i = this;
            if (!i.DOM) i.DOM = i._initDOM();
            var b = i,
            c = b.DOM.content,
            g = b.DOM.wrap,
            h = b.config,
            q = g.offsetWidth,
            p = g.offsetHeight,
            r = parseInt(g.style.left),
            s = parseInt(g.style.top),
            o = g.style.width;
            g.style.width = e;
            b.DOM.main.width = e;
            if (typeof a == "string") {
                if (h.icon && h.icon != d) {
                    if (c) c.innerHTML = "<div style='padding:10px;'><img src='/Skin/dialog/" + h.skin + "/icons/" + h.icon + ".png' width='48' height='48' /><span style='margin:auto;vertical-align:middle;'>" + a + "</span></div>"
                } else if (c) c.innerHTML = a
            } else if (a && a.nodeType == 1) {
                var n = a.style.display,
                k = a.previousSibling,
                j = a.nextSibling,
                l = a.parentNode;
                b._elementBack = function() {
                    if (k && k.parentNode) k.parentNode.insertBefore(a, k.nextSibling);
                    else if (j && j.parentNode) j.parentNode.insertBefore(a, j);
                    else l && l.appendChild(a);
                    a.style.display = n;
                    b._elemBack = f
                };
                c.innerHTML = d;
                c.appendChild(a);
                a.style.display = w
            }
            b.show();
            b.auto();
            m(c);
            return b;
            function m(h) {
                for (var e, b = 0, f = 0, c = h.getElementsByTagName("script"), g = c.length, a = []; b < g; b++) if (c[b].type === "text/dialog") {
                    a[f] = c[b].innerHTML;
                    f++
                }
                if (a.length) {
                    a = a.join(d);
                    e = new Function(a);
                    e.call(this)
                }
            }
        },
        auto: function() {
            var a = this;
            a.size();
            a.position();
            return a
        },
        position: function(p, q) {
            if (this.DOM == f || this.DOM == undefined) return;
            var g = this,
            d = g.DOM.wrap,
            i = g.config,
            a = p || i.left,
            c = q || i.top,
            j = ECF(h),
            l = ECF(document);
            if (a === e) if (i.fixed) a = (j.width() - d.offsetWidth) / 2;
            else a = (j.width() - l.scrollLeft() - d.offsetWidth) / 2;
            else if (a.toString().indexOf(o) !== k) {
                var m = a === n;
                a = g._toNumber(a, j.width());
                if (i.fixed) a = a - (m ? d.offsetWidth: d.offsetWidth / 2);
                else a = a + l.scrollLeft() / 2 - (m ? d.offsetWidth: d.offsetWidth / 2)
            }
            d.style.left = a + b;
            if (c === e) c = (j.height() - d.offsetHeight) / 2;
            else if (c.toString().indexOf(o) !== k) {
                var r = c === n;
                c = g._toNumber(c, j.height());
                c = c - (r ? d.offsetHeight: d.offsetHeight / 2)
            }
            c = i.fixed ? c: c + l.scrollTop();
            d.style.top = c + b;
            g.lock();
            return g
        },
        size: function(r, q) {
            var f = this,
            a = f.DOM,
            l = a.wrap,
            j = a.title,
            d = a.main,
            c = a.buttons,
            p = f.config,
            i = r || p.width,
            g = q || p.height;
            if (typeof i === x) n(i);
            else {
                if (i.toString().indexOf(o) !== k) {
                    i = f._toNumber(i, ECF(h).width());
                    n(i)
                }
                n()
            }
            if (typeof g === x) m(g);
            else {
                if (g.toString().indexOf(o) !== k) {
                    g = f._toNumber(g, ECF(h).height());
                    m(g)
                }
                m()
            }
            function n(p) {
                j.style.width = e;
                c.style.width = e;
                var g,
                o = a.tl.offsetWidth + a.tr.offsetWidth,
                n = a.ml.offsetWidth + a.mr.offsetWidth,
                m = a.bl.offsetWidth + a.br.offsetWidth,
                i = a.buttonsl.offsetWidth + a.buttonsr.offsetWidth,
                k = a.titlel.offsetWidth + a.titler.offsetWidth;
                if (p > 0) g = p;
                else {
                    l.style.width = e;
                    d.style.width = e;
                    var h = j.offsetWidth;
                    if (f._isIE6()) {
                        a.titleInfo.style.width = e;
                        a.title_Buttons.style.width = e;
                        h = a.title_Buttons.offsetWidth + a.titleInfo.offsetWidth
                    }
                    var q = Math.max(d.offsetWidth, h, c.offsetWidth),
                    g = q + Math.max(o, n, m, i, k)
                }
                l.style.width = g + b;
                a.tc.style.width = g - o + b;
                j.style.width = g - k + b;
                d.style.width = g - n + b;
                c.style.width = g - i + b;
                a.bc.style.width = g - m + b
            }
            function m(k) {
                j.style.height = e;
                c.style.height = e;
                var g,
                i = j.offsetHeight,
                f = c.offsetHeight,
                h = a.tc.offsetHeight + a.bc.offsetHeight;
                if (k > 0) g = k;
                else {
                    l.style.height = e;
                    d.style.height = e;
                    var m = d.offsetHeight,
                    g = i + m + f + h
                }
                l.style.height = g + b;
                d.style.height = a.ml.style.height = a.mr.style.height = g - i - f - h + b;
                c.style.height = a.buttonsl.style.height = a.buttonsr.style.height = f + b
            }
            return f
        },
        move: function(e, n) {
            var c = "dragtemp0",
            e = e ? e: h.event,
            a = this,
            g = a.DOM.wrap,
            o = a.config;
            g.style.zIndex = o.zIndex++;
            if (!g) return a;
            if (j.list[a.config.id] != a) return a;
            a.focus();
            if (g.getAttribute(r) != 0 || g.getAttribute(p) != 0) return a;
            var n = e.srcElement ? e.srcElement: e.target;
            if (n.className.indexOf("_min") != k || n.className.indexOf("_max") != k || n.className.indexOf("_close") != k) return a;
            if (!o.drag) return a;
            var s = a._layer();
            g.getElementsByTagName("iframe").length > 0;
            if (arguments[2]) t(g.id, e, a);
            else q(g.id, e, a);
            return a;
            function t(p, o, e) {
                var e = j.focus,
                a = e.DOM.dragLayer,
                g = l(o) - a.style.left.replace(b, d) / 1,
                k = m(o) - a.style.top.replace(b, d) / 1;
                if (!a) return;
                if (!h.captureEvents) a.setCapture();
                else h.captureEvents(Event.MOUSEMOVE | Event.MOUSEUP);
                var n = function(c) {
                    c = c ? c: h.event;
                    if (!a) return;
                    if (l(c) - g <= 0) a.style.left = 0 + b;
                    else if (l(c) - g >= e._docWidth() - a.offsetWidth - 2) a.style.left = e._docWidth() - a.offsetWidth - 2 + b;
                    else a.style.left = l(c) - g + b;
                    var d = e._docHeight();
                    if (m(c) - k <= 1) a.style.top = 1 + b;
                    else if (m(c) - k >= d - a.offsetHeight - 2) a.style.top = d - a.offsetHeight - 2 + b;
                    else a.style.top = m(c) - k + b
                };
                document.onmousemove = n;
                s.onmouseup = function(g) {
                    if (!a) return;
                    g = g ? g: h.event;
                    var r = g.srcElement ? g.srcElement: g.target;
                    if (!h.captureEvents) a.releaseCapture();
                    else h.releaseEvents(Event.MOUSEMOVE | Event.MOUSEUP);
                    var l = a.style.left.replace(b, d) / 1,
                    m = a.style.top.replace(b, d) / 1,
                    j = document.getElementById(p);
                    if (!j) return;
                    var o = j.offsetLeft,
                    q = j.offsetTop;
                    e.moveTo(j, l, m, o, q);
                    if (a) a.style.display = i;
                    var k = document.getElementById(c);
                    if (k) k.style.display = i;
                    if (document.onmousemove == n) document.onmousemove = f
                }
            }
            function q(e, d) {
                var a = $(e + v);
                if (!a) return;
                d = d ? d: h.event;
                var g = a.offsetLeft,
                j = a.offsetTop;
                if (!h.captureEvents) a.setCapture();
                else h.captureEvents(Event.MOUSEMOVE | Event.MOUSEUP);
                document.onmousemove = function(c) {
                    if (!a) return;
                    c = c ? c: h.event;
                    var e = l(c) - g,
                    d = m(c) - j;
                    if (!/msie/i.test(navigator.userAgent)) d -= 2;
                    if (e > 280 && l(c) < sw) a.style.width = e + b;
                    if (d - 35 > 10 && m(c) < sh) a.style.height = d + b
                };
                document.onmouseup = function() {
                    if (!a) return;
                    if (!h.captureEvents) a.releaseCapture();
                    else h.releaseEvents(Event.MOUSEMOVE | Event.MOUSEUP);
                    var d = $(e);
                    if (!d) return;
                    var j = d.offsetWidth,
                    g = d.offsetHeight;
                    XDrag.resizeFilm(e, a.offsetWidth, a.offsetHeight, j, g);
                    if (a) {
                        a.parentNode.removeChild(a);
                        a = f
                    }
                    var b = document.getElementById(c);
                    if (b) if (b.style) b.style.display = i
                }
            }
            function l(a) {
                return a.pageX ? a.pageX: a.clientX + document.body.scrollLeft - document.body.clientLeft
            }
            function m(a) {
                return a.pageY ? a.pageY: a.clientY + document.body.scrollTop - document.body.clientTop
            }
        },
        moveTo: function(e, c, d, i, j) {
            if (!e) return;
            if (c < 0) c = 0;
            if (d < 0) d = 0;
            var l = e.getAttribute("id");
            typeof h["ct" + l] != "undefined" && clearTimeout(h["ct" + l]);
            if (!e) return;
            if (!this.film) {
                e.style.top = d + b;
                e.style.left = c + b;
                return
            }
            var a = st = 20,
            f = Math.abs(c - i),
            g = Math.abs(d - j);
            if (f - g > 0) if (g) a = Math.round(f / g) > 8 ? 8: Math.round(f / g) * 6;
            else a = 0;
            else if (f) st = Math.round(g / f) > 8 ? 8: Math.round(g / f) * 6;
            else st = 0;
            if (c - i < 0) a *= k;
            if (d - j < 0) st *= k;
            if (Math.abs(i + a - c) < 52 && a) a = a > 0 ? 2: -2;
            if (Math.abs(j + st - d) < 52 && st) st = st > 0 ? 2: -2;
            if (Math.abs(i + a - c) < 16 && a) a = a > 0 ? 1: k;
            if (Math.abs(j + st - d) < 16 && st) st = st > 0 ? 1: k;
            if (f == 0 && g == 0) return;
            if (Math.abs(i + a - c) < 2) e.style.left = c + b;
            else e.style.left = i + a + b;
            if (Math.abs(j + st - d) < 2) e.style.top = d + b;
            else e.style.top = j + st + b;
            h["ct" + l] = h.setTimeout("moveTo('" + l + "', " + c + " , " + d + ", " + (i + a) + ", " + (j + st) + ")", 1)
        },
        max: function(f) {
            var e = this,
            n = e.DOM,
            c = e.DOM.wrap;
            if (!c) return;
            if (c.getAttribute(p) != 0) return;
            var o = c.id,
            d = c.getAttribute(r);
            a = arguments[0];
            if (d == 0) {
                var g = document.documentElement.clientWidth,
                j = c.offsetLeft,
                k = c.offsetTop,
                l = c.offsetWidth,
                i = c.offsetHeight,
                h = document.documentElement.clientHeight || document.body.scrollHeight;
                if (g < 1) g = document.body.clientWidth;
                g = g - 2;
                h = h - 2;
                if (e.config.animate) ECF(c).animate({
                    top: s,
                    left: s,
                    width: g + b,
                    hieght: h + b
                },
                800, 
                function() {
                    e.size(g, h)
                });
                else {
                    c.style.left = "2px";
                    c.style.top = "2px";
                    e.size(g, h)
                }
                c.setAttribute(r, j + m + k + m + l + m + i);
                if (f && f.tagName == "A") if (f) f.title = "恢复"
            } else {
                d = d.split(m);
                if (e.config.animate) ECF(c).animate({
                    left: d[0] + b,
                    top: d[1] + b,
                    width: d[2] + b,
                    hieght: d[3] + b
                },
                800, 
                function() {
                    e.size(e._toNumber(d[2]), e._toNumber(d[3]))
                });
                else {
                    c.style.left = d[0] + b;
                    c.style.top = d[1] + b;
                    e.size(e._toNumber(d[2]), e._toNumber(d[3]))
                }
                c.setAttribute(r, 0);
                if (f && f.tagName == "A") if (f) f.title = "最大化"
            }
            f && f.blur();
            return e
        },
        min: function() {
            var c = "MinLocal",
            e = this,
            a = e.DOM.wrap,
            b = arguments[0];
            if (a) {
                var d = a.getAttribute(p),
                f = a.getAttribute(c),
                i = a.offsetLeft,
                j = a.offsetTop,
                k = a.offsetWidth,
                h = a.offsetHeight;
                if (d == 0) {
                    var g = f ? f: getMin(e._local);
                    a.setAttribute(p, i + m + j + m + k + m + h);
                    a.setAttribute(c, g);
                    if (b) b.title = "恢复"
                } else {
                    d = d.split(m);
                    a.setAttribute(p, 0);
                    if (b) b.title = "最小化"
                }
            }
            b && b.blur();
            return e
        },
        follow: function() {
            return this
        },
        shake: function() {
            var e = this,
            c,
            d = e.DOM.wrap.style,
            a = [4, 8, 4, 0, -4, -8, -4, 0],
            f = function() {
                d.marginLeft = a.shift() + b;
                if (a.length <= 0) {
                    d.marginLeft = 0;
                    clearInterval(c)
                }
            };
            a = a.concat(a.concat(a));
            c = setInterval(f, 20);
            return e
        },
        button: function() {
            var a = this,
            k = a.DOM,
            m = k.wrap,
            c = k.buttons,
            l = c,
            j = a.config.className + "_button_focus",
            b = a._lists = a._lists || {},
            g = arguments[0];
            if (g === f || g === undefined || g == d) {
                if (c) c.style.display = i;
                a.size(e, e);
                return a
            }
            ECF.each(g, 
            function(g, c) {
                var e = c.name,
                f = !b[e],
                d = !f ? b[e].elem: document.createElement("button");
                if (!b[e]) b[e] = {};
                if (c.callback) {
                    b[e].callback = c.callback;
                    d.onclick = function() {
                        c.callback && c.callback.call(a, h)
                    }
                }
                if (c.className) d.className = c.className;
                if (c.focus) {
                    a._focus && a._focus.removeClass(j);
                    a._focus = ECF(d).addClass(j);
                    a.focus()
                }
                d[a._expando + "callback"] = e;
                d.disabled = !!c.disabled;
                if (f) {
                    d.innerHTML = e;
                    b[e].elem = d;
                    l.appendChild(d)
                }
            });
            if (c) c.style.display = g.length ? d: i;
            a.auto();
            return a
        },
        show: function() {
            var a = this,
            b = a.DOM.wrap;
            if (b && b.style) {
                if (b.style.display != i) return a;
                b.style.display = w;
                a.config.follow ? a.follow(a.config.follow) : a.position(a.config.left, a.config.top);
                a.config.lock && a.lock()
            }
            a.auto();
            return a
        },
        hide: function() {
            var a = this,
            b = a.DOM.wrap;
            if (b && b.style) b.style.display = i;
            a.unlock();
            return a
        },
        focus: function() {
            j.focus = this
        },
        close: function() {
            if (!this.DOM) return this;
            var a = this,
            e = a.DOM,
            d = e.wrap,
            b = e.dragLayer,
            g = a.config.close;
            a.time();
            if (typeof g === q && g.call(a, h) === c) return a;
            if (j.focus === a) j.focus = f;
            a.unlock();
            d && d.parentNode && d.parentNode.removeChild(d);
            b && b.parentNode && b.parentNode.removeChild(b);
            a.unlock();
            a.DOM = f;
            return a
        },
        animate: function(e, d) {
            var c = this,
            a = c.DOM.wrap,
            f = c._toNumber(a.style.top) - a.offsetHeight / 2;
            if (!d) d = e;
            if (a) d == t && ECF(a).animate({
                height: "5px",
                top: f + b,
                opacity: .2
            },
            500, 
            function() {
                c.close(e)
            })
        },
        time: function(b) {
            var a = this,
            d = a.config.cancelVal,
            c = a._timer;
            c && clearTimeout(c);
            if (b) a._timer = setTimeout(function() {
                a.animate(d, t)
            },
            1e3 * b);
            return a
        },
        lock: function() {
            var g = "full_lock_dialog_Div",
            i = this,
            n = h.VBArray && !h.XMLHttpRequest,
            k = i.DOM,
            a = k.lockMask || document.getElementById(g),
            j = i.config;
            if (a) {
                this.DOM.lockMask = a;
                var e = Math.max(document.documentElement.clientWidth, document.documentElement.offsetWidth - 22);
                if (e < $(l).width()) e = $(l).width();
                a.style.width = e + b;
                a.style.height = Math.max(document.getElementsByTagName(l)[0].scrollHeight, document.documentElement.offsetHeight, ECF(document).height()) + b;
                a.style.display = w
            } else {
                a = document.createElement("div");
                document.getElementsByTagName(l)[0].appendChild(a);
                a.id = g;
                a.oncontextmenu = function() {
                    return c
                };
                var d = a.style;
                d.zIndex = j.zIndex - 2;
                d.position = A;
                d.left = s;
                d.top = s;
                var e = Math.max(document.documentElement.clientWidth, document.documentElement.offsetWidth - 22);
                if (e < $(l).width()) e = $(l).width();
                d.width = e + b;
                d.height = Math.max(document.getElementsByTagName(l)[0].scrollHeight, document.documentElement.offsetHeight, ECF(document).height()) + b;
                d.background = j.background;
                if (n) a.innerHTML = '<iframe src="about:blank" style="position:absolute; visibility:inherit; top:0px; left:0px; width:100%; height:100%; z-index:-1; filter=\'progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=1)\';"></iframe>';
                function m(a, c, b) {
                    if (typeof a != "object") a = $(a);
                    switch (c) {
                    case "opacity":
                        if (a.filters) {
                            a.style.filter = "alpha(opacity=" + b * 100 + ")";
                            if (!a.currentStyle.hasLayout) a.style.zoom = 1
                        } else {
                            a.style.opacity = b;
                            a.style["-moz-opacity"] = b;
                            a.style["-khtml-opacity"] = b
                        }
                        break;
                    default:
                        a.style[c] = b
                    }
                    a = f
                }
                m(a, "opacity", j.opacity);
                k.lockMask = a;
                i.DOM = k
            }
            return i
        },
        unlock: function() {
            var a = this;
            if (a.DOM.lockMask) {
                var b = a.DOM.lockMask.style;
                if (b) b.display = i
            }
            return a
        },
        _local: [],
        _docWidth: function() {
            var a = Math.max(document.body.clientWidth, document.body.scrollWidth, document.documentElement.offsetWidth, document.documentElement.clientWidth);
            if (a < $(l).width()) a = $(l).width();
            return a
        },
        _docHeight: function() {
            return Math.max(document.body.clientHeight, document.body.scrollHeight, document.documentElement.offsetHeight, document.documentElement.clientHeight)
        },
        _initDOM: function(g, v) {
            var m = "javascript:void(0)",
            h = "clear",
            a = {},
            e,
            f = g.className,
            x = g.width,
            w = g.height,
            k = this;
            k.config = g = v ? g: k._config(g);
            a.wrap = e = b(document.getElementsByTagName(l)[0], f);
            e.setAttribute("id", g.id);
            e.setAttribute(r, 0);
            e.setAttribute(p, 0);
            e.setAttribute("drag", "true");
            e.onmousedown = u;
            e.style.position = g.fixed ? "fixed": A;
            e.style.zIndex = g.zIndex++;
            a.tl = b(e, f + "_top_left");
            a.tc = b(e, f + "_top_center");
            a.tr = b(e, f + "_top_right");
            b(e, h);
            a.titlel = b(e, f + "_title_left");
            a.title = b(e, f + "_title");
            a.titleInfo = b(a.title, f + "_title_info", "b");
            a.title_Buttons = b(a.title, f + "_title_buttons", "span");
            b(a.title, h);
            a.titler = b(e, f + "_title_right");
            b(e, h);
            a.ml = b(e, f + "_main_left"),
            a.main = b(e, f + "_main"),
            a.main.style.margin = s;
            a.content = b(a.main, f + "_content");
            a.mr = b(e, f + "_main_right");
            b(a.wrap, h, d, d);
            a.buttonsl = b(e, f + "_buttons_left"),
            a.buttons = b(e, f + "_buttons"),
            a.buttonsr = b(e, f + "_buttons_right"),
            b(a.wrap, h, d, d);
            a.bl = b(e, f + "_bottom_left");
            a.bc = b(e, f + "_bottom_center");
            a.br = b(e, f + "_bottom_right");
            b(a.wrap, h);
            g.drag && ECF(a.title).css("cursor", "move");
            if (typeof g.title == "boolean" && !g.title) {
                a.titlel.style.display = i;
                a.title.style.display = i;
                a.titler.style.display = i
            }
            if (g.closeBtn) {
                var n = a.close = b(a.title_Buttons, f + "_title_close", "a");
                n.href = m;
                n.onclick = function() {
                    g.animate ? k.animate(t) : k.close(this)
                };
                n.title = "关闭"
            }
            if (g.maxBtn) {
                var o = a.max = b(a.title_Buttons, f + "_title_max", "a");
                o.href = m;
                o.onclick = function() {
                    k.max(this)
                };
                o.title = "最大化"
            }
            if (g.minBtn) {
                var q = a.min = b(a.title_Buttons, f + "_title_min", "a");
                q.href = m;
                q.onclick = function() {
                    k.min(this)
                };
                q.title = "最小化"
            }
            a.title.onmousedown = function(a) {
                k.move(a, this, 1)
            };
            if (g.reHeight) {
                a.ml.onmousedown = function(a) {
                    k.move(a, this)
                };
                a.mr.onmousedown = function(a) {
                    k.move(a, this)
                }
            }
            if (g.reWidth) {
                a.tc.onmousedown = function(a) {
                    k.move(a, this)
                };
                a.bc.onmousedown = function(a) {
                    k.move(a, this)
                }
            }
            if (g.reSize) br.onmousedown = function(a) {
                k.move(a, this)
            };
            function b() {
                var c = arguments[0],
                b = arguments[1] || d,
                f = arguments[2] || "DIV",
                e = arguments[3] || d,
                a = document.createElement(f);
                if (!c) return;
                e != d && a.setAttribute("id", e);
                if (b != d) a.className = b;
                c.appendChild(a);
                return a
            }
            function u() {
                j.defaults.zIndex = g.zIndex++;
                return c
            }
            return a
        },
        _layer: function() {
            var e = this,
            d = e.DOM.wrap,
            a = e.DOM.dragLayer;
            if (!a) {
                e.DOM.dragLayer = a = document.createElement("DIV");
                document.getElementsByTagName(l)[0].appendChild(a)
            }
            a.oncontextmenu = function() {
                return c
            };
            a.id = d.id + v;
            a.name = d.id + v;
            a.style.cssText = d.style.cssText + "position:absolute;background:#D2E1F0;filter:alpha(Opacity=10,style=0);opacity:0.3;cursor:move;";
            a.style.height = d.offsetHeight + b;
            a.style.border = "2px dotted #919090";
            a.style.zIndex = d.style.zIndex + 2;
            a.style.width = d.style.width;
            a.style.height = d.style.height;
            a.style.left = d.style.left;
            a.style.top = d.style.top;
            return a
        },
        _toNumber: function(a, d) {
            if (!a && a !== 0 || typeof a === x) return a;
            var c = a.length - 2;
            if (a.lastIndexOf(b) === c) a = parseInt(a);
            else if (a.lastIndexOf(o) === c + 1) a = parseInt(d * a.split(o)[0] / 100);
            return parseInt(a)
        },
        _isIE6: function() {
            return ECF.browser.msie && ECF.browser.version < 7
        },
        _ie6PngFix: function() {
            if (this._isIE6()) for (var d = 0, b, c, e, a, g = "skin/dialog/default/", f = this.DOM.wrap.getElementsByTagName("*"); d < f.length; d++) {
                b = f[d];
                c = b.currentStyle.png;
                if (c) {
                    e = g + c;
                    a = b.runtimeStyle;
                    a.backgroundImage = i;
                    a.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(src='" + e + "',sizingMethod='crop')"
                }
            }
        },
        _expando: "ecDialog" + (new Date).getTime(),
        _config: function(a) {
            a = a || {};
            var b = "createTouch" in document && !("onmousemove" in _elem) || /(iPhone|iPad|iPod)/i.test(navigator.userAgent);
            if (typeof a === "string" || a.nodeType === 1) a = {
                content: a,
                fixed: !b
            };
            var d = j.defaults;
            a = e(a, d);
            if (b) a.fixed = c;
            j.defaults.zIndex = a.zIndex;
            function e(a, c) {
                for (var b in c) if (a[b] == undefined) a[b] = c[b];
                return a
            }
            return a
        },
        _reset: function(i) {
            var d,
            a = this,
            h = a._winSize || u.width() * u.height(),
            e = a._follow,
            k = a._width,
            j = a._height,
            f = a._left,
            g = a._top;
            if (i) {
                d = a._winSize = u.width() * u.height();
                if (h === d) return
            }
            if (e) a.follow(e);
            else(f || g) && a.position(f, g);
            if (!a.DOM) return;
            var c = a.DOM.lockMask;
            if (c) {
                c.style.width = a._docWidth() + b;
                c.style.height = a._docHeight + b
            }
        },
        _addEvent: function() {
            var b,
            c,
            a = this,
            d = "CollectGarbage" in h,
            e = a.DOM;
            a._winResize = function() {
                b && clearTimeout(b);
                b = setTimeout(function() {
                    a._reset(d)
                },
                4)
            };
            u.bind("resize", a._winResize);
            if (a.config.scroll) {
                a._winScroll = function() {
                    c && clearTimeout(c);
                    c = setTimeout(function() {
                        var b = a._left,
                        c = a._top; (b || c) && a.position(b, c)
                    },
                    4)
                };
                u.bind("scroll", a._winScroll)
            }
        },
        _removeEvent: function() {
            ECF(this.DOM.wrap).unbind();
            u.unbind("resize", this._winResize);
            u.unbind("scroll", this._winScroll)
        }
    };
    j.defaults = {
        id: "ecdialog",
        guid: 0,
        title: "消息",
        url: d,
        content: '<div class="box_loading"><span>loading...</span></div>',
        button: f,
        ok: f,
        cancel: f,
        init: f,
        close: f,
        okVal: "确定",
        cancelVal: "取消",
        width: e,
        height: e,
        minWidth: 120,
        minHeight: 32,
        padding: "20px 25px",
        skin: "default",
        className: "box",
        icon: f,
        time: f,
        esc: g,
        focus: g,
        show: g,
        follow: f,
        path: d,
        lock: g,
        background: "#000",
        opacity: .4,
        duration: 300,
        fixed: c,
        left: e,
        top: e,
        zIndex: 1982,
        resize: g,
        drag: g,
        closeBtn: g,
        minBtn: c,
        maxBtn: c,
        scroll: c,
        animate: c
    };
    j.fn._init.prototype = j.fn;
    ECF.extend(j, {
        info: {
            version: "1.0.0 Beta",
            summary: "EC Framework Dragbox JS Library<br /> ECF 框架之弹出层(拖动)插件",
            aouthor: "xp",
            build: "2011-9-29",
            release: "2011-10-18",
            modify: "2011-10-19",
            mender: "xp",
            modSummary: "1.调整层的样式,可根据文本内容自动适应大小(2011-10-12)<br />2.修正在ie6下不能使用的问题,但在ie6下还是存一些小的问题没有时间处理(2011-10-18)"
        },
        notice: function(p) {
            var a = p || {},
            e,
            o,
            i,
            d,
            k,
            m = 500,
            h = {
                id: "Notice",
                left: n,
                top: n,
                fixed: g,
                drag: c,
                resize: c,
                follow: f,
                lock: c,
                maxBtn: c,
                minBtn: c,
                init: function(c) {
                    e = this;
                    o = e.config;
                    d = ECF(e.DOM.wrap);
                    k = parseInt(d[0].style.top);
                    i = k + d[0].offsetHeight;
                    d.css("top", i + b).animate({
                        top: k + b
                    },
                    m, 
                    function() {
                        a.init && a.init.call(e, c)
                    })
                },
                close: function(g) {
                    d.animate({
                        top: i + b
                    },
                    m, 
                    function() {
                        a.close && a.close.call(this, g);
                        o.close = f;
                        e.close()
                    });
                    return c
                }
            };
            for (var l in a) if (h[l] === undefined) h[l] = a[l];
            return j(h)
        },
        alert: function(a) {
            return j({
                id: "Alert",
                icon: "warning",
                fixed: g,
                lock: g,
                drag: c,
                content: a,
                closeBtn: c,
                ok: g
            }).shake()
        },
        confirm: function(c, a, b) {
            return j({
                id: "Confirm",
                icon: B,
                fixed: g,
                lock: g,
                opacity: .1,
                content: c,
                ok: function(b) {
                    return a && a.call(this, b)
                },
                cancel: function(a) {
                    return b && b.call(this, a)
                }
            })
        },
        prompt: function(e, c, b) {
            b = b || d;
            var a;
            return j({
                id: "Prompt",
                icon: B,
                fixed: g,
                lock: g,
                opacity: .1,
                content: ['<div style="margin-bottom:5px;font-size:12px">', e, y, "<div>", '<input value="', b, '" style="width:18em;padding:6px 4px" />', y].join(d),
                init: function() {
                    a = ECF(this.DOM.content).find("input")[0];
                    a.select();
                    a.focus()
                },
                ok: function(b) {
                    return c && c.call(this, a.value, b)
                },
                cancel: g
            })
        },
        tips: function(a, b) {
            return j({
                id: "Tips",
                title: c,
                cancel: c,
                fixed: g,
                closeBtn: c,
                lock: c
            }).content('<div style="padding: 10px;">' + a + y).time(b || 1.5)
        },
        open: function(m, a, z) {
            a = a || {};
            var e,
            k,
            l,
            y,
            b,
            o,
            A,
            p,
            B,
            r = j.top,
            f,
            w = "position:absolute;left:-9999em;top:-9999em;border:none 0;background:transparent;width:500px;height:500px;",
            x = "width:100%;height:100%;border:none 0;";
            if (z === c) {
                var v = (new Date).getTime(),
                u = m.replace(/([?&])_=[^&]*/, "$1_=" + v);
                m = u + (u === m ? (/\?/.test(m) ? "&": "?") + "_=" + v: d)
            }
            var t = function() {
                var f,
                d,
                a = ECF(k.content).find(".box_loading"),
                c = e.config;
                typeof a[0] == "object" && k.content.removeChild(a[0]);
                setTimeout(function() {
                    b.style.cssText = x
                },
                0)
            },
            f = {
                zIndex: 1982,
                maxBtn: c,
                minBtn: c,
                width: a.width || 500,
                height: a.height || 400,
                init: function() {
                    e = this;
                    k = e.DOM;
                    y = k.main;
                    l = k.content;
                    f = e.config;
                    k.content.style.width = n;
                    k.content.style.height = n;
                    b = e.iframe = document.createElement("iframe");
                    b.src = m;
                    b.name = "Open_" + e.config.id;
                    b.style.cssText = w;
                    b.setAttribute("frameborder", 0, 0);
                    b.setAttribute("allowTransparency", g);
                    o = ECF(b);
                    l.style.margin = "0";
                    l.appendChild(b);
                    e.size(f.width, f.height).position();
                    p = b.contentWindow;
                    h.topDialog = p.ecDialog = p.parent.ecDialog = e;
                    o.bind("load", t)
                },
                close: function() {
                    o.css("display", i).unbind("load", t);
                    if (a.close && a.close.call(this, b.contentWindow, r) === c) return c;
                    o[0].src = "about:blank";
                    for (var d = 0; d < l.childNodes.length; d++) l.removeChild(l.childNodes[d]);
                    try {} catch(e) {}
                }
            };
            if (typeof a.ok === q) f.ok = function() {
                return a.ok.call(e, b.contentWindow, r)
            };
            if (typeof a.cancel === q) f.cancel = function() {
                return a.cancel.call(e, b.contentWindow, r)
            };
            delete a.content;
            for (var s in a) if (f[s] === undefined) f[s] = a[s];
            return j(f)
        },
        through: function() {
            var a = this.top.apply(this, arguments);
            if (this.top() !== h) j.list[a.config.id] = a;
            return a
        },
        top: function() {
            var a = h,
            b = function(a) {
                try {
                    var b = h[a].document;
                    b.getElementsByTagName
                } catch(d) {
                    return c
                }
                return h[a].ecDialog && b.getElementsByTagName("frameset").length === 0
            };
            if (b("top")) a = h.top;
            else if (b("parent")) a = h.parent;
            return a
        }
    });
    D.bind("keydown", 
    function(c) {
        var b = c.target;
        if (!b) return;
        var d = b.nodeName,
        f = /^INPUT|TEXTAREA$/,
        a = j.focus,
        e = c.keyCode;
        if (!a || !a.config.esc || f.test(d)) return;
        e === 27 && a._click(a.config.cancelVal)
    });
    try {
        document.execCommand("BackgroundImageCache", c, g)
    } catch(F) {}
    ECF.plugin && ECF.plugin.push("dialog");
    var z;
    _path = h._ecDialog_path || 
    function(a, c, b) {
        for (c in a) if (a[c].src && a[c].src.toLowerCase().indexOf("dialog") !== k) b = a[c];
        z = b || a[a.length - 1];
        b = z.src.replace(/\\/g, "/");
        return b.lastIndexOf("/") < 0 ? ".": b.substring(0, b.lastIndexOf("/"))
    } (document.getElementsByTagName("script"));
    _skin = z.src.split("skin=")[1];
    if (_skin) {
        var C = document.createElement("link");
        C.rel = "stylesheet";
        C.href = _path + "/skins/" + _skin + "/Dialog.min.css?" + j.fn.version;
        z.parentNode.insertBefore(C, z)
    }
    ECF(function() {
        function a(a, c) {
            var d = new RegExp("(^|&)" + c + "=([^&]*)(&|$)"),
            b = a.substr(a.indexOf("?") + 1).match(d);
            return b != f ? unescape(b[2]) : f
        }
        ECF("a.dialog,a.thickbox").each(function(b) {
            if (!b) return;
            var d = b.href,
            g = a(d, "width") || 600,
            f = b.title || b.innerHTML,
            e = a(d, "height") || 400;
            b.onclick = function() {
                ECF.dialog.open(d, {
                    width: g / 1,
                    height: e / 1,
                    title: f
                },
                c);
                return c
            }
        })
    })
})(ECF, window);